{"version":3,"file":"static/js/338.16d782fb.chunk.js","mappings":"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","sources":["LineGraph.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://comp-challenge/./src/Planets/Extension.module.css?99a5","Planets/Extension.js"],"sourcesContent":["import * as d3 from \"d3\";\nimport React from \"react\";\n\n/*\npoints:\n[\n  {\n    \"x\": number\n    \"y\": number\n  },\n]\n\ndata:\n{\n  \"class\": points,\n  \"class2\": points,\n}\n\ncolours:\n{\n    \"class\": colour,\n    \"class2\": colour,\n}\n*/\nexport default function LineGraph(props) {\n  const { margin, w, h, title, xLabel, yLabel } = props;\n  let data = props.data;\n  let colours = props.colours;\n  const animated = props.animated ?? true;\n  const legend = props.legend ?? true;\n\n  if (!legend) {\n    data = { default: data };\n    colours = { default: \"black\" };\n  }\n\n  const parentElement = React.useRef(null);\n\n  const [xName, yName] = Object.keys(data[Object.keys(data)[0]][0]);\n\n  React.useEffect(() => {\n    parentElement.current.innerHTML = \"\";\n\n    // set the dimensions and margins of the graph\n    const width = w - margin.left - margin.right;\n    const height = h - margin.top - margin.bottom;\n    // append the svg object to the body of the page\n    const svg = d3\n      .select(parentElement.current)\n      .append(\"svg\")\n      .attr(\n        \"viewBox\",\n        `0 0 ${width + margin.left + margin.right} ${\n          height + margin.top + margin.bottom\n        }`\n      )\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n\n    // Add X axis\n    const dataX = Object.values(data)\n      .flat()\n      .map((i) => Object.values(i)[0]);\n    const x = d3\n      .scaleLinear()\n      .domain([Math.min(...dataX), Math.max(...dataX)])\n      .range([0, width]);\n    svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(0, ${height})`)\n      .call(d3.axisBottom(x));\n\n    // Add Y axis\n    const dataY = Object.values(data)\n      .flat()\n      .map((i) => Object.values(i)[1]);\n    const y = d3\n      .scaleLinear()\n      .domain([Math.min(...dataY), Math.max(...dataY)])\n      .range([height, 0]);\n    svg.append(\"g\").call(d3.axisLeft(y));\n\n    // add gridlines\n    svg\n      .append(\"g\")\n      .style(\"opacity\", \"0.15\")\n      .attr(\"transform\", `translate(0, ${height})`)\n      .call(d3.axisBottom(x).tickSize(-height).tickFormat(\"\"));\n    svg\n      .append(\"g\")\n      .style(\"opacity\", \"0.15\")\n      .call(d3.axisLeft(y).tickSize(-width).tickFormat(\"\"));\n\n    if (legend) {\n      const group = svg.append(\"g\");\n\n      const numClasses = Object.keys(data).length;\n      const xScale2 = d3\n        .scaleLinear()\n        .domain([0, numClasses - 1])\n        .range([0, (numClasses - 1) * 40]);\n\n      const xAxis2 = d3\n        .axisLeft(xScale2)\n        .ticks(numClasses)\n        .tickFormat((d) => Object.keys(colours)[d]);\n\n      group\n        .selectAll(\"rect\")\n        .data([...Array(numClasses).keys()])\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"legend-item\")\n        .style(\"fill\", (d) => Object.values(colours)[d])\n        .attr(\"width\", 30)\n        .attr(\"height\", 30)\n        .attr(\"y\", (d, i) => i * 40 + 10)\n        .attr(\"x\", width + margin.right - 30);\n\n      group\n        .append(\"g\")\n        .call(xAxis2)\n        .attr(\"transform\", `translate(${width + margin.right - 30}, 25)`);\n\n      group._groups[0][0].lastChild.firstChild.style.opacity = \"0\";\n    }\n\n    const lineGenerator = d3\n      .line()\n      .x((d) => x(d[xName]))\n      .y((d) => y(d[yName]));\n\n    if (animated) {\n      Object.keys(colours).forEach((key) => {\n        svg\n          .append(\"path\")\n          .attr(\"class\", \"line\")\n          .datum(data[key])\n          .style(\"stroke\", colours[key])\n          .attr(\"stroke-width\", 3)\n          .style(\"fill\", \"none\")\n          .attr(\n            \"d\",\n            d3\n              .line()\n              .x((d) => 0)\n              .y((d) => height)\n          );\n      });\n\n      // Animation\n      svg\n        .selectAll(\".line\")\n        .transition()\n        .duration(800)\n        .delay(function (d, i) {\n          return i * 100;\n        })\n        .attr(\"d\", lineGenerator);\n    } else {\n      Object.keys(colours).forEach((key) => {\n        svg\n          .append(\"path\")\n          .attr(\"class\", \"line\")\n          .datum(data[key])\n          .style(\"stroke\", colours[key])\n          .attr(\"stroke-width\", 3)\n          .style(\"fill\", \"none\")\n          .attr(\"d\", lineGenerator);\n      });\n    }\n\n    // Title\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", 0 - margin.top / 2)\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"1.2rem\")\n      .style(\"text-decoration\", \"underline\")\n      .text(title);\n\n    // Text label for the x axis\n    svg\n      .append(\"text\")\n      .style(\"font-size\", \"0.85rem\")\n      .attr(\n        \"transform\",\n        \"translate(\" + width / 2 + \" ,\" + (height + margin.top + 20) + \")\"\n      )\n      .style(\"text-anchor\", \"middle\")\n      .text(xLabel);\n\n    // Text label for the y axis\n    svg\n      .append(\"text\")\n      .style(\"font-size\", \"0.85rem\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"y\", 0 - margin.left)\n      .attr(\"x\", 0 - height / 2)\n      .attr(\"dy\", \"1em\")\n      .style(\"text-anchor\", \"middle\")\n      .text(yLabel);\n  }, [\n    data,\n    margin,\n    w,\n    h,\n    title,\n    xLabel,\n    yLabel,\n    colours,\n    xName,\n    yName,\n    animated,\n    legend,\n  ]);\n\n  return <div ref={parentElement}></div>;\n}\n","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport default {\"custom\":\"Extension_custom__RyPer\",\"table\":\"Extension_table__+4FMG\",\"planetSelect\":\"Extension_planetSelect__3GoNS\"};","import React from \"react\";\n\nimport extensionStyles from \"./Extension.module.css\";\n\nimport LineGraph from \"../LineGraph\";\nimport { MathComponent } from \"mathjax-react\";\n\nconst planetData = {\n  venus: {\n    atmosphere: {\n      CO2: 0.96,\n      N2: 0.04,\n    },\n    g: 8.87,\n    T0: 460,\n    P0: 9_200_000,\n  },\n  mars: {\n    atmosphere: {\n      CO2: 0.95,\n      N2: 0.027,\n      Ar: 0.023,\n    },\n    g: 3.711,\n    T0: -55,\n    P0: 636,\n  },\n  custom: {\n    atmosphere: {\n      CO2: 0.95,\n      N2: 0.027,\n      Ar: 0.023,\n    },\n    g: 3.711,\n    T0: -55,\n    P0: 636,\n  },\n};\n\nexport default function Extension() {\n  const [planet, setPlanet] = React.useState(\"mars\");\n\n  const SHCs = {\n    CO2: 0.844,\n    N2: 1.04,\n    O2: 0.919,\n    Ar: 0.52,\n    H2: 14.32,\n    He: 5.19,\n  };\n\n  const molarMass = {\n    CO2: 44.01,\n    N2: 28.01,\n    O2: 31.99,\n    Ar: 39.95,\n    H2: 2.016,\n    He: 4.003,\n  };\n\n  //params should add to 1, SHC of mixuture will be returned\n  function getSHC({ CO2 = 0, N2 = 0, O2 = 0, Ar = 0, H2 = 0, He = 0 }) {\n    return (\n      SHCs[\"CO2\"] * CO2 +\n      SHCs[\"N2\"] * N2 +\n      SHCs[\"O2\"] * O2 +\n      SHCs[\"Ar\"] * Ar +\n      SHCs[\"H2\"] * H2 +\n      SHCs[\"He\"] * He\n    );\n  }\n\n  function getMolarMass({ CO2 = 0, N2 = 0, O2 = 0, Ar = 0, H2 = 0, He = 0 }) {\n    return (\n      molarMass[\"CO2\"] * CO2 +\n      molarMass[\"N2\"] * N2 +\n      molarMass[\"O2\"] * O2 +\n      molarMass[\"Ar\"] * Ar +\n      molarMass[\"H2\"] * H2 +\n      molarMass[\"He\"] * He\n    );\n  }\n\n  const [atmosphere, setAtmosphere] = React.useState(\n    planetData[\"mars\"].atmosphere\n  );\n  const [T0, setT0] = React.useState(planetData[\"mars\"].T0);\n  const [g, setG] = React.useState(planetData[\"mars\"].g);\n  const [P0, setP0] = React.useState(planetData[\"mars\"].P0);\n\n  React.useEffect(() => {\n    if (planet === \"custom\") {\n      setAtmosphere(planetData[planet].atmosphere);\n    } else {\n      setAtmosphere(planetData[planet].atmosphere);\n    }\n    setT0(planetData[planet].T0);\n    setG(planetData[planet].g);\n    setP0(planetData[planet].P0);\n  }, [planet]);\n\n  React.useEffect(() => {\n    if (planet === \"custom\") {\n      planetData.custom.atmosphere = atmosphere;\n      planetData.custom.T0 = T0;\n      planetData.custom.g = g;\n      planetData.custom.P0 = P0;\n    }\n  }, [atmosphere, T0, g, P0, planet]);\n\n  const R = 8.314;\n  const Cp = getSHC(planetData[planet].atmosphere);\n  const L = g / Cp; //km\n\n  const lapsed = (h) =>\n    P0 *\n    (1 - (L * h) / (T0 + 273)) **\n      ((getMolarMass(planetData[planet].atmosphere) * g) / (L * R));\n\n  const pressureAgainstAltitude = [];\n  const temperatureAgainstAltitude = [];\n\n  const interval = 500; //metres\n  let T = T0;\n  let P = P0;\n  for (let h = 0; h <= 20000; h += interval) {\n    P = lapsed(h / 1000);\n    T -= (L * interval) / 1000;\n\n    pressureAgainstAltitude.push({\n      altitude: h,\n      pressure: P,\n    });\n    temperatureAgainstAltitude.push({\n      altitude: h,\n      temperature: T,\n    });\n  }\n\n  function handleAtmosphereChange(e) {\n    const { name, value } = e.target;\n    setAtmosphere({ ...atmosphere, [name]: value });\n  }\n\n  return (\n    <main>\n      <h1>Extension - Planets</h1>\n      <p>\n        I thought it might be interesting to apply the methods I learned in the\n        tasks to different planets. I only included Mars and Venus as they are\n        the only non-Earth rocky planets with a somewhat stable surface\n        temperature.\n      </p>\n      <p>\n        I've also added an option to create a planet with a custom atmospheric\n        composition, gravitational acceleration, surface temperature, and\n        surface pressure.\n      </p>\n\n      <div className={extensionStyles.planetSelect}>\n        <select\n          value={planet}\n          onChangeCapture={(e) => setPlanet(e.target.value)}\n        >\n          <option value=\"venus\">Venus</option>\n          <option value=\"mars\">Mars</option>\n          <option value=\"custom\">Custom</option>\n        </select>\n      </div>\n\n      {planet === \"custom\" && (\n        <div className={extensionStyles.custom}>\n          <h2>Design your own planet</h2>\n\n          <table className={extensionStyles.table}>\n            <tr>\n              <td colSpan={2}>\n                <b>Atmosphere composition (fractional):</b>\n              </td>\n            </tr>\n            {Object.keys(SHCs).map((i) => (\n              <tr>\n                <td>\n                  <label htmlFor={i}>{i}</label>\n                </td>\n                <td>\n                  <input\n                    type=\"text\"\n                    name={i}\n                    id={i}\n                    key={i}\n                    value={atmosphere[i] || \"\"}\n                    onChange={handleAtmosphereChange}\n                  />\n                </td>\n              </tr>\n            ))}\n            <br />\n            <tr>\n              <td colSpan={2}>\n                <b>Surface constants:</b>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <label htmlFor=\"T0\">\n                  T<sub>0</sub> (ºC)\n                </label>\n              </td>\n              <td>\n                <input\n                  type=\"text\"\n                  name=\"T0\"\n                  id=\"T0\"\n                  value={T0}\n                  onChange={(e) => setT0(Number(e.target.value))}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <label htmlFor=\"g\">\n                  g (ms<sup>-2</sup>)\n                </label>\n              </td>\n              <td>\n                <input\n                  type=\"text\"\n                  name=\"g\"\n                  id=\"g\"\n                  value={g}\n                  onChange={(e) => setG(Number(e.target.value))}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <label htmlFor=\"P0\">\n                  P<sub>0</sub> (Pa)\n                </label>\n              </td>\n              <td>\n                <input\n                  type=\"text\"\n                  name=\"P0\"\n                  id=\"P0\"\n                  value={P0}\n                  onChange={(e) => setP0(Number(e.target.value))}\n                />\n              </td>\n            </tr>\n          </table>\n        </div>\n      )}\n\n      <LineGraph\n        data={pressureAgainstAltitude}\n        margin={{ top: 30, right: 100, bottom: 60, left: 80 }}\n        w={500}\n        h={300}\n        title={\"Atmospheric Pressure vs Altitude\"}\n        animated={false}\n        legend={false}\n        xLabel={\"Altitude (m)\"}\n        yLabel={\"Pressure (Pa)\"}\n      />\n      <LineGraph\n        data={temperatureAgainstAltitude}\n        margin={{ top: 30, right: 100, bottom: 60, left: 60 }}\n        w={500}\n        h={300}\n        title={\"Temperature vs Altitude\"}\n        animated={false}\n        legend={false}\n        xLabel={\"Altitude (m)\"}\n        yLabel={\"Temperature (ºC)\"}\n      />\n\n      <section>\n        <h2 style={{ textAlign: \"center\" }}>Method</h2>\n        <p>\n          <code>\n            <i>\n              C<sub>p</sub>\n            </i>\n          </code>{\" \"}\n          is calculated using a weighted average of the SHCs at constant\n          pressure of the atmosphere's component gasses.\n        </p>\n        <p>\n          <code>\n            <i>M</i>\n          </code>{\" \"}\n          is calculated using a weighted average of the molar masses of the\n          atmosphere's component gasses.\n        </p>\n        <p>The adiabatic lapse rate is assumed to be constant and equal to:</p>\n        <MathComponent tex={String.raw`L = \\frac{g}{C_p}`} />\n        <p>\n          In each iteration, the altitude is increased by a constant amount, and\n          the new pressure is calculated using:\n        </p>\n        <MathComponent\n          tex={String.raw`P = P_0\\Biggl(1-\\frac{L(h-h_0)}{T_0}\\Biggr)^{\\frac{Mg}{LR}}`}\n        />\n      </section>\n    </main>\n  );\n}\n"],"names":["LineGraph","props","margin","w","h","title","xLabel","yLabel","data","colours","animated","legend","default","parentElement","React","Object","keys","xName","yName","current","innerHTML","width","left","right","height","top","bottom","svg","d3","append","attr","dataX","values","flat","map","i","x","domain","Math","min","max","range","call","dataY","y","style","tickSize","tickFormat","group","numClasses","length","xScale2","xAxis2","ticks","d","selectAll","Array","enter","_groups","lastChild","firstChild","opacity","lineGenerator","forEach","key","datum","transition","duration","delay","text","ref","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","arguments","source","defineProperty","getOwnPropertyDescriptors","defineProperties","planetData","venus","atmosphere","CO2","N2","g","T0","P0","mars","Ar","custom","Extension","planet","setPlanet","SHCs","O2","H2","He","molarMass","setAtmosphere","setT0","setG","setP0","Cp","getSHC","L","lapsed","getMolarMass","pressureAgainstAltitude","temperatureAgainstAltitude","T","P","altitude","pressure","temperature","handleAtmosphereChange","e","name","value","className","extensionStyles","onChangeCapture","colSpan","htmlFor","type","id","onChange","Number","textAlign","tex","String","raw"],"sourceRoot":""}